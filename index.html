<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Color Picker</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <script>
      //gathers buttons and text
      const changers = document.getElementsByClassName("changer");
      const texts = document.getElementsByClassName("text");
      //determines screen brightness thresh
      luminance = 150; 
      //determines appropriate text color
      function useBlackText(r, g, b) 
        {
            r = r * 0.299;
            g = g * 0.587;
            b = b * 0.114;
            if (r+g+b > luminance) {
                return true;
            } else {return false;}
        }
      //assigns screen color
      function colorChanger() {
        rcol = Math.random() * 255;
        gcol = Math.random() * 255;
        bcol = Math.random() * 255;
        document.body.style.backgroundColor =
          "rgb(" + rcol + "," + gcol + "," + bcol + ")";

        //Assigns color to buttons
        for (i = 0; i < changers.length; i++) {
        changers[i].style.backgroundColor = 
          "rgb(" + (255 - rcol) + "," + (255 - gcol) + "," + (255 - bcol) + ")";
        useBlackText(255 - rcol,255 - gcol,255 - bcol) ? (changers[i].style.color = "black") : (changers[i].style.color = "white");
        }

        //Assigns color to text
        if (useBlackText(rcol,gcol,bcol)) {
            for (i = 0; i < texts.length; i++) {
                texts[i].style.color = "black";
            }
        } else {
            for (i = 0; i < texts.length; i++) {
                texts[i].style.color = "white";
            }
        }
        //Prints RGB values
        document.getElementById("read").innerText = "My Value: R: " + Math.floor(rcol) + " | G: " + Math.floor(gcol) + " | B: " + Math.floor(bcol);   
      }
    </script>

    <h1 class="text">Welcome to the Color Picker!</h1>
    <div class="container">
      <div class="centered">
        <input
          id="click"
          type="button"
          class="changer"
          value="Change Colors"
          onclick="colorChanger();"
        />
        <span id="read"class="text">My Value:</span>
        <script></script>
      </div>
    </div>

  </body>
</html>
